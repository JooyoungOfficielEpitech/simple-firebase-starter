# Pitch Test Component ì‚¬ìš© ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

PitchTest ì»´í¬ë„ŒíŠ¸ëŠ” expo-avì˜ pitch ì¡°ì ˆ ê¸°ëŠ¥ì„ ì‹¤ì œë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ë…ë¦½í˜• ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í…ŒìŠ¤íŠ¸ í™”ë©´ì— ì»´í¬ë„ŒíŠ¸ ì¶”ê°€

ê¸°ì¡´ í™”ë©´ì— PitchTest ì»´í¬ë„ŒíŠ¸ë¥¼ ì„ì‹œë¡œ ì¶”ê°€í•˜ì—¬ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ì˜µì…˜ A: ìƒˆ í™”ë©´ ìƒì„± (ê¶Œì¥)

```typescript
// app/screens/PitchTestScreen.tsx
import React from 'react'
import { SafeAreaView, StyleSheet } from 'react-native'
import { PitchTest } from '@/components/__tests__/PitchTest'

export function PitchTestScreen() {
  return (
    <SafeAreaView style={styles.container}>
      <PitchTest />
    </SafeAreaView>
  )
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#F5F5F5',
  },
})
```

#### ì˜µì…˜ B: ê¸°ì¡´ í™”ë©´ì— ì„ì‹œ ì¶”ê°€

```typescript
// app/screens/DevSettingsScreen.tsx (ì˜ˆì‹œ)
import { PitchTest } from '@/components/__tests__/PitchTest'

// render í•¨ìˆ˜ ë‚´ì— ì¶”ê°€
<ScrollView>
  {/* ê¸°ì¡´ ì»¨í…ì¸  */}

  {/* Pitch Test - ì„ì‹œ í…ŒìŠ¤íŠ¸ìš© */}
  <PitchTest />
</ScrollView>
```

### 2. ë„¤ë¹„ê²Œì´ì…˜ ì¶”ê°€ (ì˜µì…˜ A ì„ íƒ ì‹œ)

```typescript
// app/navigation/AppNavigator.tsx
import { PitchTestScreen } from '@/screens/PitchTestScreen'

// Stack Navigatorì— ì¶”ê°€
<Stack.Screen
  name="PitchTest"
  component={PitchTestScreen}
  options={{ title: 'Pitch Test' }}
/>
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

#### 1. ì˜¤ë””ì˜¤ ë¡œë“œ í…ŒìŠ¤íŠ¸
1. ì•± ì‹¤í–‰ â†’ PitchTest í™”ë©´ ì§„ì…
2. "ìƒíƒœ: ë¡œë“œë¨ âœ…" í™•ì¸
3. ì‹œê°„ í‘œì‹œ í™•ì¸ (0:00 / ì „ì²´ì‹œê°„)

**ì˜ˆìƒ ê²°ê³¼**:
- iOS: âœ… ì¦‰ì‹œ ë¡œë“œ
- Android: âœ… 1-2ì´ˆ ë¡œë“œ
- Web: âš ï¸ ë„¤íŠ¸ì›Œí¬ ì†ë„ ì˜ì¡´

#### 2. ì¬ìƒ/ì¼ì‹œì •ì§€ í…ŒìŠ¤íŠ¸
1. "â–¶ï¸ ì¬ìƒ" ë²„íŠ¼ í´ë¦­
2. ì˜¤ë””ì˜¤ ì¬ìƒ í™•ì¸
3. "â¸ ì¼ì‹œì •ì§€" ë²„íŠ¼ í´ë¦­
4. ì¼ì‹œì •ì§€ í™•ì¸

**ì˜ˆìƒ ê²°ê³¼**:
- ëª¨ë“  í”Œë«í¼ ì •ìƒ ì‘ë™ âœ…

#### 3. Pitch ì¡°ì ˆ í…ŒìŠ¤íŠ¸

##### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ë‚®ì€ ìŒ (-6 ë°˜ìŒ)
1. ìŠ¬ë¼ì´ë”ë¥¼ ì™¼ìª½ ëìœ¼ë¡œ ì´ë™
2. í‘œì‹œ: "-6 ë°˜ìŒ"
3. ì¬ìƒ ë²„íŠ¼ í´ë¦­
4. ìŒì • í™•ì¸

**ì˜ˆìƒ ê²°ê³¼**:
- iOS: âœ… ê¹¨ë—í•œ ë‚®ì€ ìŒ, í…œí¬ ìœ ì§€
- Android: âš ï¸ ì•½ê°„ì˜ ìŒì§ˆ ì €í•˜ ê°€ëŠ¥
- Web: âš ï¸ ë¸Œë¼ìš°ì €ë³„ ì°¨ì´

##### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: ì›ë³¸ (0 ë°˜ìŒ)
1. "ì´ˆê¸°í™”" ë²„íŠ¼ í´ë¦­
2. í‘œì‹œ: "ì›ë³¸ í‚¤"
3. ì›ë³¸ ìŒì • í™•ì¸

**ì˜ˆìƒ ê²°ê³¼**:
- ëª¨ë“  í”Œë«í¼ ì •ìƒ âœ…

##### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: ë†’ì€ ìŒ (+6 ë°˜ìŒ)
1. ìŠ¬ë¼ì´ë”ë¥¼ ì˜¤ë¥¸ìª½ ëìœ¼ë¡œ ì´ë™
2. í‘œì‹œ: "+6 ë°˜ìŒ"
3. ì¬ìƒ ë²„íŠ¼ í´ë¦­
4. ìŒì • í™•ì¸

**ì˜ˆìƒ ê²°ê³¼**:
- iOS: âœ… ê¹¨ë—í•œ ë†’ì€ ìŒ, í…œí¬ ìœ ì§€
- Android: âš ï¸ ìŒì§ˆ ì €í•˜ ê°€ëŠ¥ì„± ë†’ìŒ
- Web: âš ï¸ ë¸Œë¼ìš°ì €ë³„ ì°¨ì´

#### 4. í”„ë¦¬ì…‹ ë²„íŠ¼ í…ŒìŠ¤íŠ¸

##### ë‚¨ì„± í”„ë¦¬ì…‹ (-2 ë°˜ìŒ)
1. "ë‚¨ì„± -2" ë²„íŠ¼ í´ë¦­
2. ìŠ¬ë¼ì´ë” ìœ„ì¹˜: -2
3. ìŒì • í™•ì¸

##### ì—¬ì„± í”„ë¦¬ì…‹ (+2 ë°˜ìŒ)
1. "ì—¬ì„± +2" ë²„íŠ¼ í´ë¦­
2. ìŠ¬ë¼ì´ë” ìœ„ì¹˜: +2
3. ìŒì • í™•ì¸

---

## ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼ ê¸°ë¡

### í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### iOS í…ŒìŠ¤íŠ¸
- [ ] ì˜¤ë””ì˜¤ ë¡œë“œ ì„±ê³µ
- [ ] ì¬ìƒ/ì¼ì‹œì •ì§€ ì •ìƒ ì‘ë™
- [ ] -6 ë°˜ìŒ ìŒì§ˆ: â­â­â­â­â­
- [ ] -3 ë°˜ìŒ ìŒì§ˆ: â­â­â­â­â­
- [ ] 0 ë°˜ìŒ (ì›ë³¸): â­â­â­â­â­
- [ ] +3 ë°˜ìŒ ìŒì§ˆ: â­â­â­â­â­
- [ ] +6 ë°˜ìŒ ìŒì§ˆ: â­â­â­â­â­
- [ ] í…œí¬ ìœ ì§€ í™•ì¸
- [ ] ì‹¤ì‹œê°„ ì¡°ì ˆ ë°˜ì‘ ì†ë„: __ms
- [ ] CPU ì‚¬ìš©ë¥ : __%
- [ ] ë°°í„°ë¦¬ ì˜í–¥: ë‚®ìŒ/ì¤‘ê°„/ë†’ìŒ

#### Android í…ŒìŠ¤íŠ¸
- [ ] ì˜¤ë””ì˜¤ ë¡œë“œ ì„±ê³µ
- [ ] ì¬ìƒ/ì¼ì‹œì •ì§€ ì •ìƒ ì‘ë™
- [ ] -6 ë°˜ìŒ ìŒì§ˆ: â­â­â­â­â­
- [ ] -3 ë°˜ìŒ ìŒì§ˆ: â­â­â­â­â­
- [ ] 0 ë°˜ìŒ (ì›ë³¸): â­â­â­â­â­
- [ ] +3 ë°˜ìŒ ìŒì§ˆ: â­â­â­â­â­
- [ ] +6 ë°˜ìŒ ìŒì§ˆ: â­â­â­â­â­
- [ ] í…œí¬ ìœ ì§€ í™•ì¸
- [ ] ì‹¤ì‹œê°„ ì¡°ì ˆ ë°˜ì‘ ì†ë„: __ms
- [ ] CPU ì‚¬ìš©ë¥ : __%
- [ ] ë°°í„°ë¦¬ ì˜í–¥: ë‚®ìŒ/ì¤‘ê°„/ë†’ìŒ
- [ ] í…ŒìŠ¤íŠ¸ ë””ë°”ì´ìŠ¤: __________

#### Web í…ŒìŠ¤íŠ¸ (ì„ íƒ)
- [ ] ì˜¤ë””ì˜¤ ë¡œë“œ ì„±ê³µ
- [ ] ì¬ìƒ/ì¼ì‹œì •ì§€ ì •ìƒ ì‘ë™
- [ ] Pitch ì¡°ì ˆ ì‘ë™ ì—¬ë¶€
- [ ] ë¸Œë¼ìš°ì €: Chrome/Safari/Firefox

---

## ğŸ” ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: "Audio setup failed" ì—ëŸ¬

**ì›ì¸**:
- ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¬¸ì œ
- ìƒ˜í”Œ ì˜¤ë””ì˜¤ URL ì ‘ê·¼ ë¶ˆê°€

**í•´ê²° ë°©ë²•**:
1. ì¸í„°ë„· ì—°ê²° í™•ì¸
2. ë¡œì»¬ ì˜¤ë””ì˜¤ íŒŒì¼ë¡œ ë³€ê²½:

```typescript
// PitchTest.tsx ìˆ˜ì •
// const SAMPLE_AUDIO = 'https://...'
const SAMPLE_AUDIO = require('../../assets/audio/sample.mp3')

// Audio.Sound.createAsync ìˆ˜ì •
const { sound } = await Audio.Sound.createAsync(
  SAMPLE_AUDIO,  // require ê°ì²´ ì§ì ‘ ì‚¬ìš©
  { shouldPlay: false },
  onPlaybackStatusUpdate
)
```

### ë¬¸ì œ 2: "Pitch shift failed" ì—ëŸ¬

**ì›ì¸**:
- Android API ë²„ì „ 23 ë¯¸ë§Œ
- ì˜¤ë””ì˜¤ê°€ ë¡œë“œë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ pitch ì¡°ì ˆ ì‹œë„

**í•´ê²° ë°©ë²•**:
1. Android API ë²„ì „ í™•ì¸ (minimum 23 í•„ìš”)
2. ì˜¤ë””ì˜¤ ë¡œë“œ ì™„ë£Œ í›„ pitch ì¡°ì ˆ

### ë¬¸ì œ 3: ìŒì§ˆì´ ë§¤ìš° ë‚˜ì¨ (Android)

**ì›ì¸**:
- Android ë””ë°”ì´ìŠ¤ë³„ ì˜¤ë””ì˜¤ ì²˜ë¦¬ ì°¨ì´
- PitchCorrectionQuality ì„¤ì •ì´ ë¬´ì‹œë¨

**í•´ê²° ë°©ë²•**:
1. ë‹¤ë¥¸ Android ë””ë°”ì´ìŠ¤ì—ì„œ í…ŒìŠ¤íŠ¸
2. í˜„ì¬ë¡œì„œëŠ” Android ì œì•½ì‚¬í•­ìœ¼ë¡œ ì¸ì •
3. í–¥í›„ ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆ ê°œë°œ ê²€í† 

### ë¬¸ì œ 4: ìŠ¬ë¼ì´ë” ë°˜ì‘ì´ ëŠë¦¼

**ì›ì¸**:
- ì‹¤ì‹œê°„ìœ¼ë¡œ pitch ì¡°ì ˆ ì‹œ ì²˜ë¦¬ ë¶€í•˜

**í•´ê²° ë°©ë²•**:
Debounce ì¶”ê°€ (ì´ë¯¸ êµ¬í˜„ë¨):

```typescript
const debouncedPitchChange = useMemo(
  () => debounce((semitones: number) => {
    applyPitchShift(semitones)
  }, 100),  // 100ms delay
  []
)
```

---

## ğŸ“ í…ŒìŠ¤íŠ¸ ë³´ê³ ì„œ ì‘ì„±

í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„ ì•„ë˜ ì •ë³´ë¥¼ ê¸°ë¡í•´ì£¼ì„¸ìš”:

### í…ŒìŠ¤íŠ¸ í™˜ê²½
- **ë‚ ì§œ**: ___________
- **í…ŒìŠ¤í„°**: ___________
- **ë””ë°”ì´ìŠ¤**: ___________
- **OS ë²„ì „**: ___________
- **ì•± ë²„ì „**: ___________

### í…ŒìŠ¤íŠ¸ ê²°ê³¼
- **ì „ì²´ í‰ê°€**: í†µê³¼/ì‹¤íŒ¨/ë³´ë¥˜
- **iOS ìŒì§ˆ**: â­â­â­â­â­
- **Android ìŒì§ˆ**: â­â­â­â­â­
- **ì‚¬ìš©ì ê²½í—˜**: â­â­â­â­â­

### ë°œê²¬ëœ ë¬¸ì œ
1. ___________
2. ___________
3. ___________

### ê°œì„  ì‚¬í•­
1. ___________
2. ___________
3. ___________

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„:
1. [ ] í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ `PITCH_VERIFICATION_REPORT.md`ì— ì—…ë°ì´íŠ¸
2. [ ] iOS/Android ìŒì§ˆ í‰ê°€ ê¸°ë¡
3. [ ] Phase 4 (AudioPlayer ë§ˆì´ê·¸ë ˆì´ì…˜) ì§„í–‰ ì—¬ë¶€ ê²°ì •
4. [ ] í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €ì—ê²Œ ë³´ê³ 

---

**ë¬¸ì„œ ë²„ì „**: 1.0
**ì‘ì„±ì¼**: 2025-11-04
**ë‹¤ìŒ ë¦¬ë·°**: Phase 4 ì‹œì‘ ì „
